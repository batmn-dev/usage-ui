{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "usage-meter",
  "title": "Usage Meter",
  "description": "A linear progress meter for displaying usage/quota information with full Radix accessibility support.",
  "dependencies": [
    "radix-ui"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/components/registry/usage-meter/usage-meter.tsx",
      "content": "\"use client\";\n\nimport { Progress as ProgressPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst meterVariants = {\n  default: \"bg-primary\",\n  success: \"bg-[--meter-success]\",\n  warning: \"bg-[--meter-warning]\",\n  danger: \"bg-[--meter-danger]\",\n} as const;\n\nconst meterSizes = {\n  sm: \"h-2\",\n  default: \"h-3\",\n  lg: \"h-4\",\n} as const;\n\ninterface UsageMeterProps\n  extends Omit<\n    React.ComponentProps<typeof ProgressPrimitive.Root>,\n    \"value\" | \"max\"\n  > {\n  /** Current value (required) */\n  value: number;\n  /** Maximum value (default: 100) */\n  max?: number;\n  /** Visual variant */\n  variant?: keyof typeof meterVariants;\n  /** Size variant */\n  size?: keyof typeof meterSizes;\n  /** Optional label text */\n  label?: string;\n  /** Show percentage (default: true) */\n  showPercentage?: boolean;\n}\n\nconst UsageMeter = React.forwardRef<\n  React.ComponentRef<typeof ProgressPrimitive.Root>,\n  UsageMeterProps\n>(\n  (\n    {\n      className,\n      value,\n      max = 100,\n      variant = \"default\",\n      size = \"default\",\n      label,\n      showPercentage = true,\n      ...props\n    },\n    ref,\n  ) => {\n    // Guard against max <= 0 to prevent division by zero and invalid progress state\n    const safeMax = Math.max(1, max);\n    const percentage = Math.round((value / safeMax) * 100);\n    const clampedPercentage = Math.min(100, Math.max(0, percentage));\n\n    return (\n      <div data-slot=\"usage-meter-root\" className=\"w-full\">\n        {(label || showPercentage) && (\n          <div\n            data-slot=\"usage-meter-header\"\n            className=\"mb-1.5 flex items-center justify-between text-sm\"\n          >\n            {label && (\n              <span\n                data-slot=\"usage-meter-label\"\n                className=\"font-medium text-foreground\"\n              >\n                {label}\n              </span>\n            )}\n            {showPercentage && (\n              <span\n                data-slot=\"usage-meter-percentage\"\n                className=\"text-muted-foreground tabular-nums\"\n              >\n                {clampedPercentage}%\n              </span>\n            )}\n          </div>\n        )}\n        <ProgressPrimitive.Root\n          ref={ref}\n          data-slot=\"usage-meter\"\n          value={value}\n          max={safeMax}\n          className={cn(\n            \"relative w-full overflow-hidden rounded-full bg-[--meter-track]\",\n            meterSizes[size],\n            className,\n          )}\n          {...props}\n        >\n          <ProgressPrimitive.Indicator\n            data-slot=\"usage-meter-indicator\"\n            className={cn(\n              \"h-full w-full flex-1 transition-all duration-300 ease-in-out\",\n              meterVariants[variant],\n            )}\n            style={{ transform: `translateX(-${100 - clampedPercentage}%)` }}\n          />\n        </ProgressPrimitive.Root>\n      </div>\n    );\n  },\n);\nUsageMeter.displayName = \"UsageMeter\";\n\nexport { UsageMeter, meterVariants, meterSizes };\nexport type { UsageMeterProps };\n",
      "type": "registry:component",
      "target": "components/ui/usage-meter.tsx"
    }
  ],
  "type": "registry:component"
}