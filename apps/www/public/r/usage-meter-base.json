{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "usage-meter-base",
  "title": "Usage Meter (Base)",
  "description": "A lightweight linear progress meter for displaying usage/quota information without Radix dependency.",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/components/registry/usage-meter/usage-meter-base.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst meterVariants = {\n  default: \"bg-primary\",\n  success: \"bg-chart-2\",\n  warning: \"bg-chart-4\",\n  danger: \"bg-destructive\",\n} as const;\n\nconst meterSizes = {\n  sm: \"h-2\",\n  default: \"h-3\",\n  lg: \"h-4\",\n} as const;\n\ninterface UsageMeterBaseProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Current value (required) */\n  value: number;\n  /** Maximum value (default: 100) */\n  max?: number;\n  /** Visual variant */\n  variant?: keyof typeof meterVariants;\n  /** Size variant */\n  size?: keyof typeof meterSizes;\n  /** Optional label text */\n  label?: string;\n  /** Show percentage (default: true) */\n  showPercentage?: boolean;\n}\n\nconst UsageMeterBase = React.forwardRef<HTMLDivElement, UsageMeterBaseProps>(\n  (\n    {\n      className,\n      value,\n      max = 100,\n      variant = \"default\",\n      size = \"default\",\n      label,\n      showPercentage = true,\n      ...props\n    },\n    ref,\n  ) => {\n    // Guard against max being 0 or negative to avoid NaN/Infinity\n    const percentage = max > 0 ? Math.round((value / max) * 100) : 0;\n    const clampedPercentage = Math.min(100, Math.max(0, percentage));\n\n    return (\n      <div data-slot=\"usage-meter-base-root\" className=\"w-full\">\n        {(label || showPercentage) && (\n          <div\n            data-slot=\"usage-meter-base-header\"\n            className=\"mb-1.5 flex items-center justify-between text-sm\"\n          >\n            {label && (\n              <span\n                data-slot=\"usage-meter-base-label\"\n                className=\"font-medium text-foreground\"\n              >\n                {label}\n              </span>\n            )}\n            {showPercentage && (\n              <span\n                data-slot=\"usage-meter-base-percentage\"\n                className=\"text-muted-foreground tabular-nums\"\n              >\n                {clampedPercentage}%\n              </span>\n            )}\n          </div>\n        )}\n        <div\n          ref={ref}\n          data-slot=\"usage-meter-base\"\n          role=\"progressbar\"\n          tabIndex={0}\n          aria-valuenow={value}\n          aria-valuemin={0}\n          aria-valuemax={max}\n          aria-valuetext={`${clampedPercentage}%`}\n          aria-label={label}\n          className={cn(\n            \"relative w-full overflow-hidden rounded-full bg-secondary\",\n            meterSizes[size],\n            className,\n          )}\n          {...props}\n        >\n          <div\n            data-slot=\"usage-meter-base-indicator\"\n            className={cn(\n              \"h-full transition-all duration-300 ease-in-out\",\n              meterVariants[variant],\n            )}\n            style={{ width: `${clampedPercentage}%` }}\n          />\n        </div>\n      </div>\n    );\n  },\n);\nUsageMeterBase.displayName = \"UsageMeterBase\";\n\nexport {\n  UsageMeterBase,\n  meterVariants as meterBaseVariants,\n  meterSizes as meterBaseSizes,\n};\nexport type { UsageMeterBaseProps };\n",
      "type": "registry:component",
      "target": "components/ui/usage-meter-base.tsx"
    }
  ],
  "type": "registry:component"
}