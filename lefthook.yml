pre-commit:
  parallel: true
  commands:
    lint:
      glob: "*.{js,ts,tsx,json}"
      run: pnpm biome check --staged --no-errors-on-unmatched {staged_files}
    typecheck:
      run: pnpm run typecheck

commit-msg:
  commands:
    conventional:
      run: |
        message=$(cat {1})
        pattern="^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: .+"
        if ! echo "$message" | grep -qE "$pattern"; then
          echo "Commit message must follow Conventional Commits format"
          echo "Examples: feat: add usage meter, fix(ui): correct color"
          exit 1
        fi
