---
description: "Essential project context for Usage UI - a shadcn/ui component registry for usage meters and quota visualization"
alwaysApply: true
---

# Usage UI - Project Context

> A shadcn/ui component registry for building usage meters, quota indicators, and resource consumption visualizations.

## Tech Stack

- **Framework**: Next.js 15+ (App Router, React Server Components)
- **Language**: TypeScript (strict mode)
- **UI**: shadcn/ui (new-york style), Radix UI primitives
- **Styling**: Tailwind CSS v4, CSS variables (OKLCH color space)
- **Package Manager**: pnpm (NOT npm or yarn)
- **Linting**: Biome (NOT ESLint/Prettier)
- **Icons**: Lucide React

## Project Structure

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ (registry)/         # Registry browser pages
â”‚   â”œâ”€â”€ demo/[name]/        # Component demo pages
â”‚   â””â”€â”€ globals.css         # Theme CSS variables
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                 # shadcn/ui primitives (DO NOT MODIFY)
â”‚   â””â”€â”€ registry/           # Registry-specific components
â”œâ”€â”€ layouts/                # Layout components
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils.ts            # cn() utility and helpers
â””â”€â”€ hooks/                  # Custom React hooks
```

## Critical Files (Modify with Care)

| File | Risk | Notes |
|------|------|-------|
| `registry.json` | ğŸ”´ CRITICAL | Breaking changes break ALL installations |
| `components.json` | ğŸ”´ CRITICAL | shadcn CLI config - invalid = CLI fails |
| `globals.css` | ğŸŸ¡ HIGH | CSS variables affect all components |
| `src/components/ui/*` | ğŸŸ¡ HIGH | Base shadcn components - prefer not editing |

## Import Aliases

Always use path aliases, never relative imports:

```tsx
// âœ… Correct
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";

// âŒ Wrong - breaks when copied to user projects
import { cn } from "../../lib/utils";
```

## Key Commands

```bash
pnpm dev          # Start development server
pnpm build        # Build for production (generates registry JSON)
pnpm lint         # Run Biome linter
pnpm check        # Biome check (lint + format)
```

## Registry Distribution

Components are distributed via shadcn CLI, NOT npm:

```bash
# Users install like this:
npx shadcn add https://usage-ui.vercel.app/r/usage-meter.json
```

Components are **copied** into user projects at `components/ui/` - they own the code.

## Do NOT

- âŒ Use `npm` commands (use `pnpm`)
- âŒ Modify existing component APIs without updating registry.json
- âŒ Use hardcoded colors (use CSS variables)
- âŒ Create components without TypeScript types
- âŒ Use default exports for components
- âŒ Skip the `"use client"` directive for client components
